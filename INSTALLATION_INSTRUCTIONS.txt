# getting pytorch3d to run on Windows. 
# A sad by sad guide for CUDA 10.2:

# create a new environment
conda create -n pytorch3d python=3.9
conda activate pytorch3d

# install dependencies
conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia

# and some more
conda install -c conda-forge -c fvcore iopath ninja

# aaand some more
pip install yacs

# get the PyTorch3D repo
git clone https://github.com/facebookresearch/pytorch3d.git
cd pytorch3dcd

# and install that
pip install -e .

# now for the SMALify stuff to work, we need a few more things
pip install matplotlib scipy chumpy opencv-python nibabel

# This SHOULD be it. Run the following command in the /SMALify repo to test your installation:
python -m fitter_3d.optimise --mesh_dir .\fitter_3d\ATTA_BOI\ --yaml_src fitter_3d/example_cfg.yaml



# because chumpy uses some legacy numpy functions, we may need to update some imports
# in the __init__ file of chumpy. The failed python script should return the location
# of the file. So replace


from numpy import ...

with

from numpy import bool_ as bool_
from numpy import int_ as int_
from numpy import float_ as float_
from numpy import object_ as object__
from numpy import inf_ as inf_